@tailwind base;
@tailwind components;
@tailwind utilities;

    /* ═══════════════════════════════════════════════════════════════════════════
       CSS VARIABLES - PREMIUM PALETTE
    ═══════════════════════════════════════════════════════════════════════════ */
    :root {
      /* Deep space background tones */
      --bg-void: #030305;
      --bg-primary: #070709;
      --bg-secondary: #0a0b0f;
      --bg-card: #0f1014;
      --bg-elevated: #151619;
      --bg-hover: #1a1b21;
      --bg-glass: rgba(15, 16, 20, 0.85);
      
      /* Electric accent palette */
      --accent-primary: #818cf8;
      --accent-secondary: #a78bfa;
      --accent-cyan: #22d3ee;
      --accent-emerald: #10b981;
      --accent-amber: #f59e0b;
      --accent-rose: #f43f5e;
      --accent-gold: #fbbf24;
      --accent-neon: #00ff88;
      
      /* Gradient accents */
      --gradient-primary: linear-gradient(135deg, #818cf8 0%, #22d3ee 50%, #10b981 100%);
      --gradient-hot: linear-gradient(135deg, #f43f5e 0%, #f59e0b 100%);
      --gradient-active: linear-gradient(135deg, #22d3ee 0%, #818cf8 100%);
      --gradient-gold: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
      --gradient-glass: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%);
      
      /* Text hierarchy */
      --text-primary: #fafafa;
      --text-secondary: #d4d4d8;
      --text-muted: #a1a1aa;
      --text-dim: #71717a;
      
      /* Border system */
      --border-subtle: rgba(255,255,255,0.04);
      --border-medium: rgba(255,255,255,0.08);
      --border-active: rgba(129,140,248,0.5);
      --border-glow: rgba(34,211,238,0.4);
      
      /* Glow effects */
      --glow-primary: 0 0 30px rgba(129,140,248,0.3);
      --glow-cyan: 0 0 25px rgba(34,211,238,0.35);
      --glow-emerald: 0 0 20px rgba(16,185,129,0.4);
      --glow-hot: 0 0 25px rgba(244,63,94,0.35);
      --glow-gold: 0 0 20px rgba(251,191,36,0.4);
      
      /* Premium shadows */
      --shadow-card: 0 4px 24px rgba(0,0,0,0.4), 0 0 1px rgba(255,255,255,0.05) inset;
      --shadow-elevated: 0 8px 40px rgba(0,0,0,0.5), 0 0 1px rgba(255,255,255,0.08) inset;
      --shadow-float: 0 20px 60px rgba(0,0,0,0.6);
      
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --radius-xl: 24px;
      --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
      --transition-normal: 300ms cubic-bezier(0.4, 0, 0.2, 1);
      --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
      --font-display: 'Sora', sans-serif;
      --font-mono: 'IBM Plex Mono', monospace;
      --font-base: 14px;
    }

    /* ═══════════════════════════════════════════════════════════════════════════
       RESET & BASE
    ═══════════════════════════════════════════════════════════════════════════ */
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: var(--font-display); 
      background: var(--bg-void); 
      color: var(--text-primary); 
      min-height: 100vh; 
      line-height: 1.5; 
      font-size: var(--font-base);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
    }

    /* ═══════════════════════════════════════════════════════════════════════════
       PREMIUM BACKGROUND EFFECTS
    ═══════════════════════════════════════════════════════════════════════════ */
    #bgCanvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; opacity: 0.6; }
    
    .bg-overlay { 
      position: fixed; 
      inset: 0; 
      z-index: -1; 
      background: 
        radial-gradient(ellipse 100% 80% at 10% -20%, rgba(129,140,248,0.12) 0%, transparent 50%),
        radial-gradient(ellipse 80% 60% at 90% 100%, rgba(34,211,238,0.08) 0%, transparent 50%),
        radial-gradient(ellipse 60% 40% at 50% 50%, rgba(16,185,129,0.04) 0%, transparent 60%);
      pointer-events: none;
      animation: bgPulse 20s ease-in-out infinite;
    }
    
    @keyframes bgPulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    
    /* Animated gradient border effect */
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* ═══════════════════════════════════════════════════════════════════════════
       LAYOUT
    ═══════════════════════════════════════════════════════════════════════════ */
    .app { max-width: 1800px; margin: 0 auto; padding: 14px 18px; }

    /* ═══════════════════════════════════════════════════════════════════════════
       PREMIUM HEADER
    ═══════════════════════════════════════════════════════════════════════════ */
    .header { 
      display: flex; 
      justify-content: space-between; 
      align-items: center; 
      padding: 16px 20px;
      margin-bottom: 20px; 
      background: var(--bg-glass);
      backdrop-filter: blur(20px);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-card);
      flex-wrap: wrap; 
      gap: 12px;
    }
    .logo { display: flex; align-items: center; gap: 12px; }
    .logo-mark { 
      width: 42px; 
      height: 42px; 
      background: var(--gradient-primary);
      border-radius: var(--radius-md); 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      font-weight: 700; 
      font-size: 15px;
      box-shadow: var(--glow-primary);
      animation: logoPulse 3s ease-in-out infinite;
    }
    @keyframes logoPulse {
      0%, 100% { box-shadow: var(--glow-primary); }
      50% { box-shadow: 0 0 40px rgba(129,140,248,0.5); }
    }
    .logo-text { font-size: 22px; font-weight: 700; letter-spacing: -0.5px; }
    .logo-text span { 
      background: var(--gradient-primary);
      -webkit-background-clip: text; 
      -webkit-text-fill-color: transparent;
      background-size: 200% 200%;
      animation: gradientShift 5s ease infinite;
    }
    .header-status { display: flex; align-items: center; gap: 14px; }
    .status-pill { 
      display: flex; 
      align-items: center; 
      gap: 8px; 
      padding: 8px 14px; 
      background: var(--bg-card); 
      border: 1px solid var(--border-medium); 
      border-radius: 20px; 
      font-size: 12px; 
      color: var(--text-secondary);
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    .status-dot { 
      width: 8px; 
      height: 8px; 
      border-radius: 50%; 
      background: var(--accent-amber);
      animation: statusPulse 2s ease-in-out infinite;
    }
    @keyframes statusPulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.7; transform: scale(1.1); }
    }
    .status-dot.live { background: var(--accent-emerald); box-shadow: var(--glow-emerald); }
    .status-dot.error { background: var(--accent-rose); box-shadow: var(--glow-hot); animation: none; }
    .api-badges { display: flex; gap: 6px; flex-wrap: wrap; }
    .api-badge { 
      padding: 4px 10px; 
      background: var(--bg-elevated); 
      border-radius: 6px; 
      font-size: 10px; 
      font-family: var(--font-mono); 
      color: var(--text-dim); 
      border: 1px solid var(--border-subtle);
      transition: all var(--transition-fast);
    }
    .api-badge.active { 
      color: var(--accent-emerald); 
      border-color: rgba(16,185,129,0.4);
      background: rgba(16,185,129,0.1);
      box-shadow: 0 0 10px rgba(16,185,129,0.2);
    }
    .api-badge.error { color: var(--accent-rose); border-color: rgba(244,63,94,0.3); }
    .header-actions { display: flex; gap: 8px; align-items: center; }
    .alert-bell-wrapper { position: relative; z-index: 9999; }

    /* ═══════════════════════════════════════════════════════════════════════════
       BUTTONS
    ═══════════════════════════════════════════════════════════════════════════ */
    .btn { 
      display: inline-flex; 
      align-items: center; 
      gap: 8px; 
      padding: 10px 18px; 
      border-radius: var(--radius-md); 
      font-family: inherit; 
      font-size: 13px; 
      font-weight: 600; 
      cursor: pointer; 
      transition: all var(--transition-normal); 
      border: 1px solid transparent; 
      white-space: nowrap;
      position: relative;
      overflow: hidden;
    }
    .btn::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, transparent 50%);
      opacity: 0;
      transition: opacity var(--transition-fast);
    }
    .btn:hover::before { opacity: 1; }
    .btn--primary { 
      background: var(--gradient-primary);
      background-size: 200% 200%;
      color: white;
      box-shadow: 0 4px 15px rgba(129,140,248,0.3);
    }
    .btn--primary:hover { 
      box-shadow: var(--glow-primary), 0 6px 20px rgba(129,140,248,0.4);
      transform: translateY(-2px);
      animation: gradientShift 3s ease infinite;
    }
    .btn--secondary { 
      background: var(--bg-glass);
      backdrop-filter: blur(8px);
      color: var(--text-primary); 
      border-color: var(--border-medium);
    }
    .btn--secondary:hover { 
      background: var(--bg-elevated); 
      border-color: var(--border-active);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
    .btn--ghost { background: transparent; color: var(--text-secondary); padding: 6px 10px; }
    .btn--ghost:hover { color: var(--text-primary); background: var(--bg-elevated); }
    .btn--success { 
      background: rgba(16,185,129,0.15); 
      color: var(--accent-emerald); 
      border-color: rgba(16,185,129,0.3);
    }
    .btn--success:hover { 
      box-shadow: var(--glow-emerald);
      border-color: rgba(16,185,129,0.5);
    }
    .btn--warning { 
      background: rgba(245,158,11,0.15); 
      color: var(--accent-amber); 
      border-color: rgba(245,158,11,0.3);
    }
    .btn--warning:hover {
      box-shadow: var(--glow-gold);
    }
    .btn--wallet { 
      background: var(--gradient-active);
      background-size: 200% 200%;
      color: white;
      box-shadow: 0 4px 15px rgba(34,211,238,0.3);
    }
    .btn--wallet:hover {
      box-shadow: var(--glow-cyan), 0 6px 20px rgba(34,211,238,0.4);
      transform: translateY(-2px);
    }
    .btn--wallet.connected { background: var(--bg-elevated); border: 1px solid var(--accent-emerald); }
    .btn svg { width: 14px; height: 14px; }
    .btn--sm { padding: 6px 12px; font-size: 11px; }
    .btn--sm svg { width: 12px; height: 12px; }

    /* ═══════════════════════════════════════════════════════════════════════════
       PREMIUM TABS
    ═══════════════════════════════════════════════════════════════════════════ */
    .nav-tabs { 
      display: flex; 
      gap: 6px; 
      background: var(--bg-glass);
      backdrop-filter: blur(16px);
      padding: 6px; 
      border-radius: var(--radius-lg); 
      margin-bottom: 20px; 
      border: 1px solid var(--border-subtle);
      box-shadow: var(--shadow-card);
    }
    .nav-tab { 
      flex: 1; 
      padding: 12px 20px; 
      border-radius: var(--radius-md); 
      font-size: 13px; 
      font-weight: 600; 
      color: var(--text-muted); 
      background: transparent; 
      border: none; 
      cursor: pointer; 
      transition: all var(--transition-normal); 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      gap: 8px;
      position: relative;
      overflow: hidden;
    }
    .nav-tab::before {
      content: '';
      position: absolute;
      inset: 0;
      background: var(--gradient-primary);
      opacity: 0;
      transition: opacity var(--transition-normal);
    }
    .nav-tab:hover { 
      color: var(--text-primary);
      background: var(--bg-elevated);
    }
    .nav-tab.active { 
      background: var(--bg-card);
      color: var(--text-primary); 
      box-shadow: var(--shadow-elevated), 0 0 20px rgba(129,140,248,0.15);
      border: 1px solid var(--border-medium);
    }
    .nav-tab.active::before { opacity: 0.05; }
    .nav-tab svg { width: 16px; height: 16px; opacity: 0.6; transition: all var(--transition-fast); }
    .nav-tab.active svg { opacity: 1; filter: drop-shadow(0 0 4px currentColor); }
    .tab-badge { 
      background: var(--gradient-primary);
      color: white; 
      font-size: 10px; 
      padding: 3px 8px; 
      border-radius: 10px; 
      font-weight: 700;
      box-shadow: 0 2px 8px rgba(129,140,248,0.4);
      animation: badgePulse 2s ease-in-out infinite;
    }
    @keyframes badgePulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    .tab-content { display: none; animation: contentFadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
    .tab-content.active { display: block; }
    @keyframes contentFadeIn { 
      from { opacity: 0; transform: translateY(10px); } 
      to { opacity: 1; transform: translateY(0); } 
    }
    
    /* Hide All Pools tab - data is accessible via search */
    .nav-tab[data-tab="pools"] { display: none; }
    #pools-tab { display: none !important; }

    /* ═══════════════════════════════════════════════════════════════════════════
       TOAST
    ═══════════════════════════════════════════════════════════════════════════ */
    .toast-container { position: fixed; top: 20px; right: 20px; z-index: 2000; display: flex; flex-direction: column; gap: 10px; }
    .toast { background: var(--bg-card); border: 1px solid var(--border-medium); border-radius: var(--radius-md); padding: 14px 18px; display: flex; align-items: center; gap: 12px; box-shadow: 0 10px 40px rgba(0,0,0,0.3); animation: toastIn 0.3s ease; min-width: 300px; }
    @keyframes toastIn { from { opacity: 0; transform: translateX(100%); } to { opacity: 1; transform: translateX(0); } }
    .toast.success { border-color: rgba(52,211,153,0.3); }
    .toast.error { border-color: rgba(251,113,133,0.3); }
    .toast-icon { width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 13px; }
    .toast.success .toast-icon { background: rgba(52,211,153,0.15); color: var(--accent-emerald); }
    .toast.error .toast-icon { background: rgba(251,113,133,0.15); color: var(--accent-rose); }
    .toast-content { flex: 1; }
    .toast-title { font-size: 14px; font-weight: 600; color: var(--text-primary); }
    .toast-message { font-size: 12px; color: var(--text-secondary); }
    .toast-close { background: none; border: none; color: var(--text-muted); cursor: pointer; }

    /* ═══════════════════════════════════════════════════════════════════════════
       MODAL
    ═══════════════════════════════════════════════════════════════════════════ */
    .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.8); backdrop-filter: blur(4px); z-index: 1000; display: none; align-items: center; justify-content: center; padding: 20px; }
    .modal-overlay.visible { display: flex; }
    .modal { background: var(--bg-card); border: 1px solid var(--border-medium); border-radius: var(--radius-lg); width: 100%; max-width: 400px; animation: modalIn 0.3s ease; }
    @keyframes modalIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
    .modal-header { display: flex; justify-content: space-between; align-items: center; padding: 16px 20px; border-bottom: 1px solid var(--border-subtle); }
    .modal-title { font-size: 16px; font-weight: 600; }
    .modal-close { background: none; border: none; color: var(--text-muted); cursor: pointer; padding: 4px; }
    .modal-body { padding: 16px 20px; max-height: 400px; overflow-y: auto; }
    .wallet-list { display: flex; flex-direction: column; gap: 8px; }
    .wallet-option { display: flex; align-items: center; gap: 12px; padding: 12px; background: var(--bg-secondary); border: 1px solid var(--border-subtle); border-radius: var(--radius-md); cursor: pointer; transition: all var(--transition-fast); position: relative; }
    .wallet-option:hover { border-color: var(--border-active); background: var(--bg-elevated); }
    .wallet-option.detected { border-color: rgba(16,185,129,0.3); }
    .wallet-option-icon { width: 36px; height: 36px; border-radius: var(--radius-sm); overflow: hidden; background: var(--bg-elevated); }
    .wallet-option-icon img { width: 100%; height: 100%; }
    .wallet-option-info { flex: 1; }
    .wallet-option-name { font-size: 13px; font-weight: 500; }
    .wallet-option-desc { font-size: 10px; color: var(--text-muted); }
    .wallet-detected-badge { position: absolute; right: 12px; font-size: 9px; color: var(--accent-emerald); background: rgba(16,185,129,0.1); padding: 2px 6px; border-radius: 4px; }
    .connected-wallet { background: var(--bg-secondary); border: 1px solid var(--accent-emerald); border-radius: var(--radius-md); padding: 16px; }
    .connected-wallet-header { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; }
    .connected-wallet-avatar { width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, var(--accent-primary), var(--accent-cyan)); }
    .connected-wallet-info { flex: 1; }
    .connected-wallet-label { font-size: 10px; color: var(--text-muted); }
    .connected-wallet-address { font-family: var(--font-mono); font-size: 13px; font-weight: 500; }
    .connected-wallet-stats { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 12px; }
    .connected-wallet-stat { background: var(--bg-card); border-radius: var(--radius-sm); padding: 10px; text-align: center; }
    .connected-wallet-stat-value { font-family: var(--font-mono); font-size: 14px; font-weight: 600; color: var(--accent-cyan); }
    .connected-wallet-stat-label { font-size: 9px; color: var(--text-muted); }
    .connected-wallet-actions { display: flex; gap: 8px; }
    .connected-wallet-actions .btn { flex: 1; justify-content: center; }

    
    /* ═══════════════════════════════════════════════════════════════════════════
       POOL CARD - BEAUTIFUL DESIGN WITH GRADIENT ACCENTS
    ═══════════════════════════════════════════════════════════════════════════ */
    
    /* Pools Grid - 3 independent columns using flexbox */
    .pools-container {
      display: flex;
      gap: 16px;
      align-items: flex-start;
      contain: layout style; /* CSS containment for performance */
    }
    .pool-column {
      flex: 1;
      min-width: 0; /* Prevent flex items from overflowing */
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    @media (max-width: 1200px) {
      .pools-container { flex-wrap: wrap; }
      .pool-column { flex: 1 1 calc(50% - 8px); }
    }
    @media (max-width: 768px) {
      .pool-column { flex: 1 1 100%; }
    }
    
    .pool-card {
      background: linear-gradient(145deg, var(--bg-card) 0%, rgba(24,24,27,0.95) 100%);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-lg);
      overflow: hidden;
      transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
      position: relative;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
      will-change: transform;
      contain: layout style paint; /* Full CSS containment */
      -webkit-tap-highlight-color: transparent; /* Remove iOS tap highlight */
      touch-action: manipulation; /* Optimize touch response */
    }
    .pool-card.expanded {
      contain: style; /* Relax containment when expanded to allow layout reflow */
    }
    .pool-card:active {
      transform: scale(0.995);
    }
    .pool-card::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--card-accent, var(--accent-primary)), transparent 80%);
      opacity: 0.7;
    }
    .pool-card:hover { 
      border-color: var(--border-active); 
      box-shadow: 0 8px 32px rgba(0,0,0,0.4), 0 0 20px rgba(129,140,248,0.1);
    }
    @media (hover: hover) {
      .pool-card:hover { transform: translateY(-2px); }
    }
    .pool-card:hover::before { opacity: 1; }
    .pool-card.score-high { --card-accent: var(--accent-emerald); border-color: rgba(52,211,153,0.3); }
    .pool-card.score-high::before { background: linear-gradient(90deg, var(--accent-emerald), rgba(52,211,153,0.2), transparent); }
    .pool-card.score-medium { --card-accent: var(--accent-amber); border-color: rgba(251,191,36,0.3); }
    .pool-card.score-medium::before { background: linear-gradient(90deg, var(--accent-amber), rgba(251,191,36,0.2), transparent); }
    .pool-card.score-low { --card-accent: var(--accent-rose); border-color: rgba(251,113,133,0.3); }
    .pool-card.score-low::before { background: linear-gradient(90deg, var(--accent-rose), rgba(251,113,133,0.2), transparent); }
    .pool-rank { position: absolute; top: 10px; left: 10px; width: 22px; height: 22px; background: var(--bg-elevated); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: 700; color: var(--text-secondary); border: 1px solid var(--border-subtle); z-index: 2; }
    .pool-rank.top3 { background: linear-gradient(135deg, #fbbf24, #f59e0b); color: var(--bg-void); border: none; box-shadow: 0 2px 8px rgba(251,191,36,0.4); }
    .pool-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; padding-left: 26px; }
    .pool-pair { display: flex; align-items: center; gap: 10px; }
    .pool-icons { display: flex; }
    .pool-icon { width: 28px; height: 28px; border-radius: 50%; background: linear-gradient(135deg, var(--bg-elevated), var(--bg-secondary)); border: 2px solid var(--bg-card); display: flex; align-items: center; justify-content: center; font-size: 9px; font-weight: 700; color: var(--text-primary); box-shadow: 0 2px 6px rgba(0,0,0,0.3); }
    .pool-icon:nth-child(2) { margin-left: -10px; }
    .pool-info h3 { font-size: 14px; font-weight: 600; color: var(--text-primary); }
    .pool-type-badge { font-size: 9px; color: var(--text-muted); background: var(--bg-secondary); padding: 2px 6px; border-radius: 3px; margin-left: 6px; }
    .pool-badges { display: flex; align-items: center; gap: 6px; }
    .score-badge { padding: 5px 10px; border-radius: 8px; font-size: 14px; font-weight: 700; font-family: var(--font-mono); box-shadow: 0 2px 8px rgba(0,0,0,0.2); }
    .score-badge.high { background: linear-gradient(135deg, rgba(52,211,153,0.25), rgba(52,211,153,0.1)); color: var(--accent-emerald); border: 1px solid rgba(52,211,153,0.3); }
    .score-badge.medium { background: linear-gradient(135deg, rgba(251,191,36,0.25), rgba(251,191,36,0.1)); color: var(--accent-amber); border: 1px solid rgba(251,191,36,0.3); }
    .score-badge.low { background: linear-gradient(135deg, rgba(251,113,133,0.25), rgba(251,113,133,0.1)); color: var(--accent-rose); border: 1px solid rgba(251,113,133,0.3); }
    .safety-dot { width: 8px; height: 8px; border-radius: 50%; }
    .safety-dot.safe { background: var(--accent-emerald); box-shadow: 0 0 8px var(--accent-emerald); }
    .safety-dot.warning { background: var(--accent-amber); box-shadow: 0 0 6px var(--accent-amber); }
    .safety-dot.danger { background: var(--accent-rose); box-shadow: 0 0 6px var(--accent-rose); }

    .pool-stats { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; }
    .pool-stat { text-align: center; padding: 10px 6px; background: linear-gradient(180deg, var(--bg-secondary), rgba(39,39,42,0.5)); border-radius: var(--radius-sm); border: 1px solid var(--border-subtle); }
    .pool-stat-label { font-size: 9px; color: var(--text-muted); text-transform: uppercase; margin-bottom: 3px; letter-spacing: 0.5px; }
    .pool-stat-value { font-family: var(--font-mono); font-size: 13px; font-weight: 600; color: var(--text-primary); }
    .pool-stat-value.accent { color: var(--accent-cyan); text-shadow: 0 0 10px rgba(34,211,238,0.3); }
    
    .pool-expand-hint { text-align: center; margin-top: 10px; font-size: 9px; color: var(--text-dim); opacity: 0.7; }
    
    /* Pool Action Buttons */
    .pool-actions { display: flex; gap: 8px; margin-bottom: 12px; flex-wrap: wrap; }
    .pool-action-btn { display: inline-flex; align-items: center; gap: 5px; padding: 8px 12px; font-size: 11px; font-weight: 500; border-radius: var(--radius-sm); border: 1px solid var(--border-medium); background: var(--bg-elevated); color: var(--text-secondary); cursor: pointer; transition: all var(--transition-fast); text-decoration: none; }
    .pool-action-btn:hover { background: var(--bg-hover); color: var(--text-primary); border-color: var(--border-active); }
    .pool-action-btn.primary { background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); border: none; color: white; box-shadow: 0 2px 8px rgba(129,140,248,0.3); }
    .pool-action-btn.primary:hover { filter: brightness(1.1); transform: translateY(-1px); }
    .pool-action-btn svg { width: 12px; height: 12px; }
    
    /* Compact badges */
    .pool-badges-row { display: flex; gap: 6px; margin-top: 10px; flex-wrap: wrap; }
    .mini-badge { font-size: 10px; padding: 3px 8px; border-radius: 4px; display: inline-flex; align-items: center; gap: 4px; font-weight: 500; }
    .mini-badge.farm { background: rgba(52,211,153,0.15); color: var(--accent-emerald); border: 1px solid rgba(52,211,153,0.2); }
    .mini-badge.bin { background: rgba(129,140,248,0.15); color: var(--accent-primary); border: 1px solid rgba(129,140,248,0.2); }
    .mini-badge.fee { background: rgba(34,211,238,0.15); color: var(--accent-cyan); border: 1px solid rgba(34,211,238,0.2); }
    .mini-badge.hot { background: rgba(251,113,133,0.2); color: #f87171; border: 1px solid rgba(251,113,133,0.3); animation: hotPulse 1.5s infinite; }
    @keyframes hotPulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
    
    /* Hot pool indicator */
    .pool-card.is-hot { border-color: rgba(251,113,133,0.4); }
    .pool-card.is-hot::before { opacity: 1; background: linear-gradient(90deg, #f87171, transparent); }
    .hot-indicator { position: absolute; top: 6px; right: 6px; font-size: 14px; z-index: 3; animation: hotBounce 1s infinite; }
    @keyframes hotBounce { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.15); } }
    
    /* 1h stats highlight */
    .pool-stat.has-1h .pool-stat-label { color: var(--accent-amber); }
    .pool-stat.has-1h .pool-stat-value { color: var(--accent-amber); }
    
    /* Advanced Info in Expanded */
    .pool-advanced-info { padding: 10px; background: var(--bg-secondary); border-radius: var(--radius-sm); border: 1px solid var(--border-subtle); }
    .pool-advanced-info h4 { font-size: 10px; color: var(--text-primary); margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px; }
    .advanced-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 6px; }
    .adv-item { font-size: 10px; color: var(--text-secondary); }
    .adv-item span { color: var(--text-muted); margin-right: 4px; }
    .adv-item.highlight { color: var(--accent-amber); }

    /* Expanded Content - Inline flow, cards below slide down */
    .pool-expanded { 
      display: grid;
      grid-template-rows: 0fr;
      transition: grid-template-rows 0.3s ease;
      border-top: 1px solid transparent;
    }
    .pool-expanded-inner { 
      overflow: hidden;
      padding: 0 16px;
      transition: padding 0.3s ease;
    }
    .pool-card.expanded .pool-expanded { 
      grid-template-rows: 1fr;
      border-top-color: var(--border-subtle);
      background: linear-gradient(180deg, var(--bg-secondary), var(--bg-card));
    }
    .pool-card.expanded .pool-expanded-inner {
      padding: 16px;
    }
    @media (max-width: 900px) {
      .pool-card.expanded .pool-expanded-inner {
        padding: 14px;
      }
    }
    
    /* Card main section */
    .pool-card-main {
      padding: 14px;
      cursor: pointer;
    }

    /* ═══════════════════════════════════════════════════════════════════════════
       LIQUIDITY CHART - Compact
    ═══════════════════════════════════════════════════════════════════════════ */
    .chart-section { margin-bottom: 10px; }
    .chart-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px; }
    .chart-title { font-size: 11px; color: var(--text-primary); font-weight: 600; }
    .chart-legend { display: flex; gap: 8px; }
    .legend-item { display: flex; align-items: center; gap: 3px; font-size: 9px; color: var(--text-secondary); }
    .legend-dot { width: 5px; height: 5px; border-radius: 2px; }
    .legend-dot.liquidity { background: var(--accent-cyan); box-shadow: 0 0 4px var(--accent-cyan); }
    .legend-dot.active { background: var(--accent-primary); box-shadow: 0 0 6px var(--accent-primary); }
    .bins-container { display: flex; align-items: flex-end; height: 90px; gap: 2px; padding: 8px 0; }
    .bin { flex: 1; min-width: 0; background: linear-gradient(180deg, var(--accent-cyan), rgba(34,211,238,0.15)); border-radius: 2px 2px 0 0; position: relative; cursor: pointer; transition: all var(--transition-fast); transform-origin: bottom; }
    .bin:hover { transform: scaleY(1.1) scaleX(1.2); filter: brightness(1.3); z-index: 10; }
    .bin.active-bin { background: linear-gradient(180deg, var(--accent-primary), rgba(129,140,248,0.25)); box-shadow: 0 0 10px rgba(129,140,248,0.5); }
    .bin-tooltip { position: absolute; bottom: calc(100% + 6px); left: 50%; transform: translateX(-50%); background: var(--bg-void); border: 1px solid var(--border-medium); border-radius: var(--radius-sm); padding: 5px 8px; font-size: 9px; white-space: nowrap; opacity: 0; visibility: hidden; transition: all var(--transition-fast); z-index: 100; pointer-events: none; box-shadow: 0 4px 12px rgba(0,0,0,0.3); }
    .bin:hover .bin-tooltip { opacity: 1; visibility: visible; }
    .bin-tooltip-row { display: flex; justify-content: space-between; gap: 8px; padding: 1px 0; }
    .bin-tooltip-label { color: var(--text-muted); }
    .bin-tooltip-value { font-family: var(--font-mono); font-weight: 500; color: var(--text-primary); }
    .chart-axis { display: flex; justify-content: space-between; padding-top: 4px; border-top: 1px solid var(--border-subtle); }
    .axis-label { font-size: 9px; color: var(--text-muted); font-family: var(--font-mono); }
    .axis-label.active { color: var(--accent-primary); font-weight: 600; }

    /* ═══════════════════════════════════════════════════════════════════════════
       POOL TRANSACTIONS
    ═══════════════════════════════════════════════════════════════════════════ */
    .pool-tx-section { background: var(--bg-secondary); border-radius: var(--radius-sm); padding: 10px; border: 1px solid var(--border-subtle); }
    .pool-tx-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
    .pool-tx-title { font-size: 11px; font-weight: 600; color: var(--text-primary); display: flex; align-items: center; gap: 5px; }
    .pool-tx-title .status-dot { width: 5px; height: 5px; }
    .pool-tx-list { max-height: 180px; overflow-y: auto; display: flex; flex-direction: column; gap: 4px; }
    .pool-tx-item { display: flex; align-items: center; gap: 8px; padding: 8px 10px; background: var(--bg-card); border-radius: 6px; font-size: 11px; }
    .pool-tx-item.new-tx { animation: txIn 0.3s ease; }
    @keyframes txIn { from { opacity: 0; transform: translateX(-8px); } to { opacity: 1; transform: translateX(0); } }
    .pool-tx-type { width: 18px; height: 18px; border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 10px; }
    .pool-tx-type.add { background: rgba(52,211,153,0.15); color: var(--accent-emerald); }
    .pool-tx-type.remove { background: rgba(251,113,133,0.15); color: var(--accent-rose); }
    .pool-tx-type.swap { background: rgba(99,102,241,0.15); color: var(--accent-primary); }
    .pool-tx-info { flex: 1; color: var(--text-muted); font-size: 10px; }
    .pool-tx-info a { color: var(--text-muted); text-decoration: none; }
    .pool-tx-info a:hover { color: var(--accent-primary); }
    .pool-tx-amount { font-family: var(--font-mono); font-weight: 500; font-size: 8px; }
    .pool-tx-amount.positive { color: var(--accent-emerald); }
    .pool-tx-amount.negative { color: var(--accent-rose); }
    .pool-tx-time { font-size: 7px; color: var(--text-dim); }
    .pool-tx-empty { text-align: center; padding: 8px; color: var(--text-dim); font-size: 8px; }

    /* ═══════════════════════════════════════════════════════════════════════════
       OPPORTUNITY CARD - PREMIUM DESIGN
    ═══════════════════════════════════════════════════════════════════════════ */
    /* Opportunities Container - Flexbox columns for independent expansion */
    #opportunitiesList {
      display: flex;
      gap: 20px;
      align-items: flex-start;
      contain: layout style;
    }
    .opp-column {
      flex: 1;
      min-width: 0;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    @media (max-width: 1200px) {
      #opportunitiesList { flex-wrap: wrap; }
      .opp-column { flex: 1 1 calc(50% - 10px); }
    }
    @media (max-width: 768px) {
      .opp-column { flex: 1 1 100%; }
    }
    
    .opp-card {
      background: var(--bg-glass);
      backdrop-filter: blur(16px);
      border: 1px solid var(--border-medium);
      border-radius: var(--radius-xl);
      overflow: hidden;
      position: relative;
      transition: all var(--transition-normal);
      box-shadow: var(--shadow-card);
      will-change: transform;
      contain: layout style paint;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }
    .opp-card.expanded {
      contain: style; /* Relax containment when expanded to allow layout reflow */
    }
    .opp-card::before {
      content: '';
      position: absolute;
      top: 0; left: 0; bottom: 0;
      width: 4px;
      background: var(--gradient-primary);
      opacity: 0.8;
    }
    .opp-card::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(255,255,255,0.03) 0%, transparent 50%);
      pointer-events: none;
    }
    .opp-card:active {
      transform: scale(0.98);
    }
    .opp-card:hover { 
      border-color: var(--border-glow);
      box-shadow: var(--shadow-elevated), var(--glow-cyan);
    }
    @media (hover: hover) {
      .opp-card:hover { transform: translateY(-4px); }
    }
    
    /* HOT opportunity - Fire theme */
    .opp-card.opp-hot {
      border-color: rgba(244,63,94,0.5);
      background: linear-gradient(145deg, rgba(244,63,94,0.12) 0%, var(--bg-glass) 40%);
    }
    .opp-card.opp-hot::before { 
      background: var(--gradient-hot);
      width: 5px;
      box-shadow: 0 0 20px rgba(244,63,94,0.5);
      animation: fireGlow 1.5s ease-in-out infinite;
    }
    @keyframes fireGlow {
      0%, 100% { opacity: 0.8; }
      50% { opacity: 1; }
    }
    .opp-card.opp-hot:hover { 
      box-shadow: var(--shadow-elevated), var(--glow-hot);
      border-color: rgba(244,63,94,0.7);
    }
    .opp-card.opp-hot .opp-score-value { 
      color: var(--accent-rose);
      text-shadow: 0 0 25px rgba(244,63,94,0.6);
    }
    .opp-card.opp-hot .opp-reason { 
      background: linear-gradient(135deg, rgba(244,63,94,0.15), rgba(245,158,11,0.1));
      border-color: rgba(244,63,94,0.35);
    }
    .opp-card.opp-hot .opp-reason-title { color: var(--accent-rose); }
    
    /* ACTIVE opportunity - Electric theme */
    .opp-card.opp-active {
      border-color: rgba(34,211,238,0.5);
      background: linear-gradient(145deg, rgba(34,211,238,0.1) 0%, var(--bg-glass) 40%);
    }
    .opp-card.opp-active::before { 
      background: var(--gradient-active);
      box-shadow: 0 0 15px rgba(34,211,238,0.4);
    }
    .opp-card.opp-active:hover { 
      box-shadow: var(--shadow-elevated), var(--glow-cyan);
      border-color: rgba(34,211,238,0.7);
    }
    .opp-card.opp-active .opp-score-value { 
      color: var(--accent-cyan);
      text-shadow: 0 0 20px rgba(34,211,238,0.5);
    }
    .opp-card.opp-active .opp-reason { 
      background: linear-gradient(135deg, rgba(34,211,238,0.12), rgba(129,140,248,0.08));
      border-color: rgba(34,211,238,0.3);
    }
    .opp-card.opp-active .opp-reason-title { color: var(--accent-cyan); }
    
    /* STANDARD opportunity - Success theme */
    .opp-card.opp-standard {
      border-color: rgba(16,185,129,0.4);
    }
    .opp-card.opp-standard:hover {
      box-shadow: var(--shadow-elevated), var(--glow-emerald);
    }
    
    /* Opportunity rank badge - Premium */
    .opp-rank {
      position: absolute;
      top: 12px;
      left: 12px;
      width: 28px;
      height: 28px;
      background: var(--bg-elevated);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 700;
      color: var(--text-secondary);
      border: 1px solid var(--border-medium);
      z-index: 2;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    }
    .opp-rank.top3 {
      background: var(--gradient-gold);
      color: var(--bg-void);
      border: none;
      box-shadow: var(--glow-gold);
      animation: rankGlow 2s ease-in-out infinite;
    }
    @keyframes rankGlow {
      0%, 100% { box-shadow: var(--glow-gold); }
      50% { box-shadow: 0 0 30px rgba(251,191,36,0.6); }
    }
    
    .opp-card-main { padding: 16px; cursor: pointer; }
    .opp-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 14px; padding-left: 32px; }
    .opp-pool { display: flex; align-items: center; gap: 12px; }
    .opp-pool-icons { display: flex; }
    .opp-pool-icon { 
      width: 32px; 
      height: 32px; 
      border-radius: 50%; 
      background: linear-gradient(135deg, var(--bg-elevated), var(--bg-card));
      border: 2px solid var(--border-medium);
      display: flex; 
      align-items: center; 
      justify-content: center; 
      font-size: 10px; 
      font-weight: 700; 
      color: var(--text-primary);
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    }
    .opp-pool-icon:nth-child(2) { margin-left: -12px; }
    .opp-pool-info h3 { font-size: 15px; font-weight: 700; color: var(--text-primary); letter-spacing: -0.3px; }
    .opp-score { text-align: right; }
    .opp-score-value { 
      font-size: 26px; 
      font-weight: 700; 
      font-family: var(--font-mono); 
      color: var(--accent-emerald);
      text-shadow: var(--glow-emerald);
      line-height: 1;
    }
    .opp-score-label { font-size: 9px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; }

    .opp-metrics { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 14px; }
    .opp-metric { 
      background: var(--bg-card);
      border-radius: var(--radius-md); 
      padding: 10px; 
      text-align: center; 
      border: 1px solid var(--border-subtle);
      transition: all var(--transition-fast);
    }
    .opp-metric:hover {
      border-color: var(--border-medium);
      background: var(--bg-elevated);
    }
    .opp-metric-value { font-family: var(--font-mono); font-size: 14px; font-weight: 700; color: var(--text-primary); }
    .opp-metric-value.positive { color: var(--accent-emerald); text-shadow: 0 0 10px rgba(16,185,129,0.3); }
    .opp-metric-label { font-size: 9px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px; margin-top: 2px; }
    
    @media (max-width: 600px) {
      .opp-metrics { grid-template-columns: repeat(2, 1fr); }
    }
    
    .opp-reason { 
      background: linear-gradient(135deg, rgba(16,185,129,0.1), rgba(34,211,238,0.05));
      border: 1px solid rgba(16,185,129,0.25);
      border-radius: var(--radius-md);
      padding: 12px;
    }
    .opp-reason-title { font-size: 11px; font-weight: 700; color: var(--accent-emerald); margin-bottom: 4px; text-transform: uppercase; letter-spacing: 0.5px; }
    .opp-reason-text { font-size: 12px; color: var(--text-secondary); line-height: 1.5; }

    .opp-expand-hint { 
      text-align: center; 
      padding: 12px;
      font-size: 10px; 
      color: var(--text-dim);
      margin-top: 8px;
      opacity: 0.6;
      transition: opacity var(--transition-fast);
    }
    .opp-card:hover .opp-expand-hint { opacity: 1; color: var(--text-muted); }

    /* Opportunity Expanded - Inline flow, cards below slide down */
    .opp-expanded { 
      display: grid;
      grid-template-rows: 0fr;
      transition: grid-template-rows 0.3s ease;
      border-top: 1px solid transparent;
    }
    .opp-expanded-inner { 
      overflow: hidden;
      padding: 0 16px;
      transition: padding 0.3s ease;
    }
    .opp-card.expanded .opp-expanded { 
      grid-template-rows: 1fr;
      border-top-color: var(--border-subtle);
      background: linear-gradient(180deg, var(--bg-secondary), var(--bg-card));
    }
    .opp-card.expanded .opp-expanded-inner {
      padding: 16px;
    }
    
    /* Opp card main section */
    .opp-card-main {
      padding: 14px 14px 14px 20px;
      cursor: pointer;
    }

    /* ═══════════════════════════════════════════════════════════════════════════
       FILTERS & ALERTS
    ═══════════════════════════════════════════════════════════════════════════ */
    .filters-section { background: var(--bg-secondary); border-radius: var(--radius-md); padding: 14px; margin-bottom: 16px; }
    .filters-title { font-size: 13px; font-weight: 600; margin-bottom: 12px; display: flex; align-items: center; gap: 6px; color: var(--text-primary); }
    .filters-title svg { width: 14px; height: 14px; color: var(--accent-primary); }
    .filters-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 12px; }
    .filter-group { display: flex; flex-direction: column; gap: 5px; }
    .filter-label { font-size: 12px; font-weight: 500; color: var(--text-primary); }
    .filter-input { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: var(--radius-sm); padding: 8px 10px; color: var(--text-primary); font-family: var(--font-mono); font-size: 13px; width: 100%; }
    .filter-input:focus { outline: none; border-color: var(--accent-primary); }
    .filter-select { appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 24 24' fill='none' stroke='%23a1a1aa' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 10px center; padding-right: 28px; }
    .toggle-group { display: flex; align-items: center; gap: 8px; }
    .toggle { width: 36px; height: 20px; background: var(--bg-elevated); border-radius: 10px; position: relative; cursor: pointer; border: none; }
    .toggle::after { content: ''; position: absolute; width: 14px; height: 14px; background: var(--text-muted); border-radius: 50%; top: 3px; left: 3px; transition: all var(--transition-fast); }
    .toggle.active { background: var(--accent-primary); }
    .toggle.active::after { transform: translateX(16px); background: white; }
    
    /* Search Results Section */
    .search-results-section {
      background: linear-gradient(135deg, rgba(34,211,238,0.08), rgba(129,140,248,0.08));
      border: 1px solid rgba(34,211,238,0.25);
      border-radius: var(--radius-lg);
      padding: 16px;
      margin-bottom: 16px;
    }
    .search-results-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--border-subtle);
    }
    .search-results-title {
      font-size: 14px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--accent-cyan);
    }
    #searchResultsContainer {
      min-height: 200px;
      display: flex;
      gap: 16px;
      align-items: flex-start;
    }
    #searchResultsContainer .pool-column {
      flex: 1;
      min-width: 0;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    
    /* Filter Results Section */
    .filter-results-section {
      background: linear-gradient(135deg, rgba(129,140,248,0.08), rgba(16,185,129,0.06));
      border: 1px solid rgba(129,140,248,0.25);
      border-radius: var(--radius-xl);
      padding: 20px;
      margin-bottom: 20px;
      animation: filterResultsIn 0.3s ease;
    }
    @keyframes filterResultsIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .filter-results-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--border-subtle);
    }
    .filter-results-title {
      font-size: 15px;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 10px;
      color: var(--accent-primary);
    }
    #filterResultsContainer {
      min-height: 200px;
      display: flex;
      gap: 16px;
      align-items: flex-start;
    }
    #filterResultsContainer .pool-column {
      flex: 1;
      min-width: 0;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    /* Ensure card expansion works in filter/search results */
    #filterResultsContainer .pool-card,
    #searchResultsContainer .pool-card {
      contain: none; /* No containment - allow full expansion animation */
    }
    #filterResultsContainer .pool-card.expanded,
    #searchResultsContainer .pool-card.expanded {
      z-index: 10; /* Ensure expanded card is above others */
    }
    
    .ai-alerts-section { background: linear-gradient(135deg, rgba(129,140,248,0.1), rgba(34,211,238,0.1)); border: 1px solid rgba(129,140,248,0.25); border-radius: var(--radius-md); padding: 14px; margin-bottom: 14px; }
    .ai-alerts-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
    .ai-alerts-title { font-size: 14px; font-weight: 600; display: flex; align-items: center; gap: 6px; color: var(--text-primary); }
    .ai-suggestion { background: var(--bg-card); border-radius: var(--radius-sm); padding: 12px; margin-bottom: 10px; display: flex; align-items: center; justify-content: space-between; gap: 12px; }
    .ai-suggestion-info { flex: 1; }
    .ai-suggestion-pool { font-size: 13px; font-weight: 600; color: var(--text-primary); }
    .ai-suggestion-reason { font-size: 11px; color: var(--text-secondary); }
    .ai-suggestion-actions { display: flex; gap: 6px; }
    .panel { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: var(--radius-lg); overflow: hidden; margin-bottom: 14px; }
    .panel-header { display: flex; justify-content: space-between; align-items: center; padding: 14px 16px; border-bottom: 1px solid var(--border-subtle); flex-wrap: wrap; gap: 10px; }
    .panel-title { font-size: 15px; font-weight: 600; display: flex; align-items: center; gap: 8px; color: var(--text-primary); }
    .panel-title svg { width: 16px; height: 16px; color: var(--accent-primary); }
    .panel-body { padding: 14px 16px; }
    .alert-form { display: grid; grid-template-columns: 1fr 1fr 100px auto auto; gap: 10px; padding: 12px; background: var(--bg-secondary); border-radius: var(--radius-md); margin-bottom: 14px; align-items: end; }
    .alert-list { display: flex; flex-direction: column; gap: 6px; max-height: 280px; overflow-y: auto; }
    .alert-item { display: flex; align-items: center; justify-content: space-between; padding: 10px 12px; background: var(--bg-secondary); border-radius: var(--radius-sm); border: 1px solid var(--border-subtle); }
    .alert-info { display: flex; align-items: center; gap: 10px; }
    .alert-icon { width: 28px; height: 28px; border-radius: var(--radius-sm); display: flex; align-items: center; justify-content: center; font-size: 14px; }
    .alert-icon.up { background: rgba(52,211,153,0.12); color: var(--accent-emerald); }
    .alert-icon.down { background: rgba(251,113,133,0.12); color: var(--accent-rose); }
    .alert-details h4 { font-size: 13px; font-weight: 500; color: var(--text-primary); }
    .alert-details p { font-size: 11px; color: var(--text-secondary); }
    .alert-actions { display: flex; align-items: center; gap: 8px; }
    .alert-empty { text-align: center; padding: 28px; color: var(--text-secondary); font-size: 13px; }

    /* ═══════════════════════════════════════════════════════════════════════════
       GUIDE
    ═══════════════════════════════════════════════════════════════════════════ */
    .guide-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 18px; }
    .guide-card { 
      background: var(--bg-glass);
      backdrop-filter: blur(12px);
      border: 1px solid var(--border-subtle); 
      border-radius: var(--radius-xl); 
      padding: 24px;
      transition: all var(--transition-normal);
    }
    .guide-card:hover {
      border-color: var(--border-medium);
      transform: translateY(-2px);
      box-shadow: var(--shadow-card);
    }
    .guide-icon { 
      width: 48px; 
      height: 48px; 
      background: var(--gradient-primary);
      border-radius: var(--radius-lg); 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      margin-bottom: 16px;
      box-shadow: var(--glow-primary);
    }
    .guide-icon svg { width: 24px; height: 24px; color: white; }
    .guide-card h3 { font-size: 16px; font-weight: 700; margin-bottom: 8px; color: var(--text-primary); }
    .guide-card p { font-size: 14px; color: var(--text-secondary); line-height: 1.6; }

    /* Utilities */
    .loading-spinner { width: 18px; height: 18px; border: 2px solid var(--border-subtle); border-top-color: var(--accent-primary); border-radius: 50%; animation: spin 0.7s linear infinite; margin: 0 auto; }
    
    /* Progressive Loading States */
    .skeleton-card {
      background: var(--bg-card);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-lg);
      padding: 16px;
      animation: skeletonPulse 1.5s ease-in-out infinite;
    }
    .skeleton-line {
      height: 14px;
      background: linear-gradient(90deg, var(--bg-elevated) 25%, var(--bg-hover) 50%, var(--bg-elevated) 75%);
      background-size: 200% 100%;
      animation: skeletonShimmer 1.5s infinite;
      border-radius: 4px;
      margin-bottom: 10px;
    }
    .skeleton-line.short { width: 60%; }
    .skeleton-line.medium { width: 80%; }
    @keyframes skeletonPulse {
      0%, 100% { opacity: 0.6; }
      50% { opacity: 0.4; }
    }
    @keyframes skeletonShimmer {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
    
    /* Loading overlay for initial load */
    .init-loader {
      position: fixed;
      inset: 0;
      background: var(--bg-void);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.5s ease, visibility 0.5s ease;
    }
    .init-loader.hidden {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }
    .init-loader-logo {
      width: 80px;
      height: 80px;
      background: var(--gradient-primary);
      border-radius: var(--radius-xl);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      font-weight: 700;
      color: white;
      box-shadow: var(--glow-primary);
      margin-bottom: 24px;
      animation: loaderPulse 2s ease-in-out infinite;
    }
    @keyframes loaderPulse {
      0%, 100% { transform: scale(1); box-shadow: var(--glow-primary); }
      50% { transform: scale(1.05); box-shadow: 0 0 60px rgba(129,140,248,0.6); }
    }
    .init-loader-text {
      font-size: 14px;
      color: var(--text-secondary);
      margin-bottom: 8px;
    }
    .init-loader-progress {
      width: 200px;
      height: 4px;
      background: var(--bg-elevated);
      border-radius: 2px;
      overflow: hidden;
    }
    .init-loader-bar {
      height: 100%;
      background: var(--gradient-primary);
      width: 0%;
      transition: width 0.3s ease;
      border-radius: 2px;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    ::-webkit-scrollbar { width: 5px; }
    ::-webkit-scrollbar-track { background: var(--bg-secondary); }
    ::-webkit-scrollbar-thumb { background: var(--bg-hover); border-radius: 3px; }

    /* ═══════════════════════════════════════════════════════════════════════════
       INSTITUTIONAL POLISH - Premium Visual Refinements
    ═══════════════════════════════════════════════════════════════════════════ */
    
    /* Smooth page transitions */
    * { 
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    /* Prevent layout shift during data updates */
    .pools-container, #opportunitiesList {
      min-height: 400px;
    }
    
    /* Subtle fade-in for new content */
    @keyframes cardFadeIn {
      from { opacity: 0; transform: translateY(8px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .pool-column > .pool-card {
      animation: cardFadeIn 0.3s ease backwards;
    }
    .pool-column > .pool-card:nth-child(1) { animation-delay: 0.02s; }
    .pool-column > .pool-card:nth-child(2) { animation-delay: 0.04s; }
    .pool-column > .pool-card:nth-child(3) { animation-delay: 0.06s; }
    .pool-column > .pool-card:nth-child(4) { animation-delay: 0.08s; }
    .pool-column > .pool-card:nth-child(5) { animation-delay: 0.1s; }
    .pool-column > .pool-card:nth-child(n+6) { animation-delay: 0.12s; }
    
    /* Premium glow effects */
    .score-badge.high { 
      text-shadow: 0 0 12px rgba(52, 211, 153, 0.5);
    }
    
    /* Refined focus states for accessibility */
    button:focus-visible, a:focus-visible {
      outline: 2px solid var(--accent-primary);
      outline-offset: 2px;
    }
    
    /* Mobile optimizations */
    @media (max-width: 768px) {
      .pool-column > .pool-card,
      .opp-column > .opp-card {
        animation: none; /* Disable stagger on mobile for performance */
      }
      .pools-container, #opportunitiesList {
        min-height: 200px;
      }
    }
    
    /* Reduce motion for accessibility */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    @media (max-width: 768px) {
      .header { flex-direction: column; }
      .nav-tabs { flex-wrap: wrap; }
      .nav-tab { min-width: calc(50% - 3px); }
      .alert-form { grid-template-columns: 1fr; }
      .pool-stats, .opp-metrics { grid-template-columns: repeat(2, 1fr); }
    }

    /* ═══════════════════════════════════════════════════════════════════════════
       HERO SECTION - OPPORTUNITIES
    ═══════════════════════════════════════════════════════════════════════════ */
    .hero-section {
      background: linear-gradient(135deg, rgba(129,140,248,0.08) 0%, rgba(34,211,238,0.05) 50%, rgba(16,185,129,0.03) 100%);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-xl);
      padding: 32px;
      margin-bottom: 24px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 32px;
      position: relative;
      overflow: hidden;
    }
    .hero-section::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -10%;
      width: 400px;
      height: 400px;
      background: radial-gradient(circle, rgba(129,140,248,0.15) 0%, transparent 60%);
      animation: heroGlow 8s ease-in-out infinite;
      pointer-events: none;
    }
    @keyframes heroGlow {
      0%, 100% { transform: translate(0, 0); opacity: 0.5; }
      50% { transform: translate(-20px, 20px); opacity: 0.8; }
    }
    .hero-content { flex: 1; position: relative; z-index: 1; }
    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 14px;
      background: rgba(129,140,248,0.15);
      border: 1px solid rgba(129,140,248,0.3);
      border-radius: 20px;
      font-size: 10px;
      font-weight: 700;
      letter-spacing: 1px;
      color: var(--accent-primary);
      margin-bottom: 16px;
    }
    .hero-badge-dot {
      width: 6px;
      height: 6px;
      background: var(--accent-emerald);
      border-radius: 50%;
      animation: dotPulse 1.5s ease-in-out infinite;
    }
    @keyframes dotPulse {
      0%, 100% { opacity: 1; box-shadow: 0 0 0 0 rgba(16,185,129,0.4); }
      50% { opacity: 0.8; box-shadow: 0 0 0 6px rgba(16,185,129,0); }
    }
    .hero-title {
      font-size: 32px;
      font-weight: 700;
      line-height: 1.2;
      margin-bottom: 12px;
      letter-spacing: -0.5px;
    }
    .hero-title span {
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-size: 200% 200%;
      animation: gradientShift 5s ease infinite;
    }
    .hero-subtitle {
      font-size: 15px;
      color: var(--text-secondary);
      max-width: 500px;
      line-height: 1.6;
    }
    .hero-stats {
      display: flex;
      gap: 16px;
      position: relative;
      z-index: 1;
    }
    .hero-stat {
      background: var(--bg-glass);
      backdrop-filter: blur(12px);
      border: 1px solid var(--border-medium);
      border-radius: var(--radius-lg);
      padding: 20px 24px;
      text-align: center;
      min-width: 120px;
      box-shadow: var(--shadow-card);
      transition: all var(--transition-normal);
    }
    .hero-stat:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-elevated);
    }
    .hero-stat.hot {
      border-color: rgba(244,63,94,0.4);
      background: linear-gradient(135deg, rgba(244,63,94,0.1), var(--bg-glass));
    }
    .hero-stat.hot .hero-stat-value {
      color: var(--accent-rose);
      text-shadow: 0 0 20px rgba(244,63,94,0.5);
    }
    .hero-stat-value {
      font-family: var(--font-mono);
      font-size: 28px;
      font-weight: 700;
      color: var(--text-primary);
      line-height: 1;
      margin-bottom: 6px;
    }
    .hero-stat-label {
      font-size: 11px;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    @media (max-width: 900px) {
      .hero-section { flex-direction: column; text-align: center; padding: 24px; }
      .hero-subtitle { margin: 0 auto; }
      .hero-stats { width: 100%; justify-content: center; }
      .hero-title { font-size: 26px; }
    }
    @media (max-width: 600px) {
      .hero-stats { flex-direction: column; }
      .hero-stat { width: 100%; }
    }

    /* ═══════════════════════════════════════════════════════════════════════════
       ALERT BELL & NOTIFICATIONS
    ═══════════════════════════════════════════════════════════════════════════ */
    .alert-bell {
      position: relative;
      width: 42px;
      height: 42px;
      background: var(--bg-glass);
      backdrop-filter: blur(8px);
      border: 1px solid var(--border-medium);
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all var(--transition-normal);
    }
    .alert-bell:hover {
      border-color: var(--accent-amber);
      background: rgba(245,158,11,0.1);
      box-shadow: var(--glow-gold);
    }
    .alert-bell.has-alerts {
      border-color: var(--accent-amber);
      animation: bellShake 0.5s ease-in-out;
    }
    @keyframes bellShake {
      0%, 100% { transform: rotate(0); }
      25% { transform: rotate(-10deg); }
      75% { transform: rotate(10deg); }
    }
    .alert-bell svg {
      width: 20px;
      height: 20px;
      color: var(--text-secondary);
      transition: color var(--transition-fast);
    }
    .alert-bell:hover svg,
    .alert-bell.has-alerts svg {
      color: var(--accent-amber);
    }
    .alert-bell-count {
      position: absolute;
      top: -4px;
      right: -4px;
      min-width: 18px;
      height: 18px;
      background: var(--gradient-hot);
      border-radius: 9px;
      font-size: 10px;
      font-weight: 700;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0 4px;
      box-shadow: 0 2px 8px rgba(244,63,94,0.5);
      animation: countPulse 2s ease-in-out infinite;
    }
    @keyframes countPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }
    
    /* Alert Notifications Dropdown */
    .alert-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      margin-top: 8px;
      width: 360px;
      max-height: 400px;
      background: var(--bg-glass);
      backdrop-filter: blur(20px);
      border: 1px solid var(--border-medium);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-float);
      z-index: 9999;
      display: none;
      overflow: hidden;
    }
    .alert-dropdown.visible { display: block; animation: dropdownIn 0.2s ease; }
    @keyframes dropdownIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .alert-dropdown-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 14px 16px;
      border-bottom: 1px solid var(--border-subtle);
      background: var(--bg-card);
    }
    .alert-dropdown-title {
      font-size: 14px;
      font-weight: 700;
      color: var(--text-primary);
    }
    .alert-dropdown-clear {
      font-size: 11px;
      color: var(--accent-rose);
      background: none;
      border: none;
      cursor: pointer;
      padding: 4px 8px;
      border-radius: var(--radius-sm);
      transition: all var(--transition-fast);
    }
    .alert-dropdown-clear:hover {
      background: rgba(244,63,94,0.15);
    }
    .alert-dropdown-list {
      max-height: 320px;
      overflow-y: auto;
    }
    .alert-notification {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 12px 16px;
      border-bottom: 1px solid var(--border-subtle);
      transition: background var(--transition-fast);
      cursor: pointer;
    }
    .alert-notification:hover {
      background: var(--bg-elevated);
    }
    .alert-notification:last-child { border-bottom: none; }
    .alert-notification-icon {
      width: 32px;
      height: 32px;
      border-radius: var(--radius-sm);
      background: rgba(245,158,11,0.15);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      flex-shrink: 0;
    }
    .alert-notification-content { flex: 1; min-width: 0; }
    .alert-notification-pool {
      font-size: 13px;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 2px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .alert-notification-msg {
      font-size: 11px;
      color: var(--text-secondary);
      line-height: 1.4;
    }
    .alert-notification-time {
      font-size: 10px;
      color: var(--text-dim);
      margin-top: 4px;
    }
    .alert-dropdown-empty {
      padding: 32px 16px;
      text-align: center;
      color: var(--text-muted);
      font-size: 13px;
    }
    @media (max-width: 480px) {
      .alert-dropdown {
        position: fixed;
        top: auto;
        bottom: 0;
        left: 0;
        right: 0;
        width: 100%;
        max-height: 60vh;
        border-radius: var(--radius-xl) var(--radius-xl) 0 0;
        margin-top: 0;
      }
    }

    /* ═══════════════════════════════════════════════════════════════════════════
       TIP JAR & EMAIL CAPTURE
    ═══════════════════════════════════════════════════════════════════════════ */
    .tip-btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 8px 14px;
      background: var(--gradient-gold);
      border: none;
      border-radius: var(--radius-md);
      color: var(--bg-void);
      font-size: 12px;
      font-weight: 700;
      cursor: pointer;
      transition: all var(--transition-fast);
      box-shadow: var(--glow-gold);
    }
    .tip-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(251,191,36,0.5); }
    .tip-btn svg { width: 14px; height: 14px; }
    
    .email-capture {
      background: linear-gradient(135deg, rgba(129,140,248,0.1), rgba(16,185,129,0.08));
      border: 1px solid rgba(129,140,248,0.2);
      border-radius: var(--radius-xl);
      padding: 24px;
      margin-bottom: 20px;
      text-align: center;
      backdrop-filter: blur(8px);
    }
    .email-capture h3 { font-size: 18px; font-weight: 700; color: var(--text-primary); margin-bottom: 8px; }
    .email-capture p { font-size: 14px; color: var(--text-secondary); margin-bottom: 16px; }
    .email-form { display: flex; gap: 10px; max-width: 400px; margin: 0 auto; }
    .email-input {
      flex: 1;
      padding: 10px 14px;
      background: var(--bg-card);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-sm);
      color: var(--text-primary);
      font-size: 13px;
    }
    .email-input:focus { outline: none; border-color: var(--accent-primary); }
    .email-submit {
      padding: 10px 20px;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      border: none;
      border-radius: var(--radius-sm);
      color: white;
      font-weight: 600;
      font-size: 13px;
      cursor: pointer;
      transition: all var(--transition-fast);
    }
    .email-submit:hover { filter: brightness(1.1); }
    .email-success { color: var(--accent-emerald); font-size: 13px; margin-top: 10px; }

    /* ═══════════════════════════════════════════════════════════════════════════
       EXECUTION LAYER - DEPOSIT MODAL
    ═══════════════════════════════════════════════════════════════════════════ */
    .exec-modal {
      display: none;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.8);
      backdrop-filter: blur(4px);
      z-index: 2000;
      align-items: center;
      justify-content: center;
    }
    .exec-modal.active { display: flex; }
    .exec-content {
      background: var(--bg-card);
      border: 1px solid var(--border-active);
      border-radius: var(--radius-lg);
      width: 90%;
      max-width: 480px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0,0,0,0.5);
    }
    .exec-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 20px;
      border-bottom: 1px solid var(--border-subtle);
    }
    .exec-header h2 { font-size: 18px; font-weight: 600; color: var(--text-primary); }
    .exec-close {
      width: 32px; height: 32px;
      border-radius: 50%;
      background: var(--bg-elevated);
      border: 1px solid var(--border-subtle);
      color: var(--text-secondary);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
    }
    .exec-close:hover { background: var(--accent-rose); color: white; }
    .exec-body { padding: 20px; }
    .exec-pool-info {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px;
      background: var(--bg-secondary);
      border-radius: var(--radius-md);
      margin-bottom: 20px;
    }
    .exec-pool-icons { display: flex; }
    .exec-pool-icon { width: 36px; height: 36px; border-radius: 50%; background: var(--bg-elevated); border: 2px solid var(--bg-card); display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 700; }
    .exec-pool-icon:nth-child(2) { margin-left: -12px; }
    .exec-pool-details h3 { font-size: 16px; font-weight: 600; color: var(--text-primary); }
    .exec-pool-details p { font-size: 12px; color: var(--text-secondary); }
    
    .exec-input-group { margin-bottom: 16px; }
    .exec-input-group label { display: block; font-size: 12px; font-weight: 500; color: var(--text-secondary); margin-bottom: 6px; }
    .exec-input-row { display: flex; gap: 10px; }
    .exec-input {
      flex: 1;
      padding: 12px 14px;
      background: var(--bg-secondary);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-sm);
      color: var(--text-primary);
      font-family: var(--font-mono);
      font-size: 16px;
    }
    .exec-input:focus { outline: none; border-color: var(--accent-primary); }
    .exec-token-select {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 12px 14px;
      background: var(--bg-elevated);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-sm);
      color: var(--text-primary);
      font-weight: 500;
      cursor: pointer;
    }
    .exec-max-btn {
      padding: 4px 10px;
      background: rgba(129,140,248,0.15);
      border: none;
      border-radius: 4px;
      color: var(--accent-primary);
      font-size: 11px;
      font-weight: 600;
      cursor: pointer;
    }
    .exec-balance { font-size: 11px; color: var(--text-muted); margin-top: 4px; }
    
    .exec-summary {
      background: var(--bg-secondary);
      border-radius: var(--radius-md);
      padding: 14px;
      margin-bottom: 20px;
    }
    .exec-summary-row {
      display: flex;
      justify-content: space-between;
      padding: 6px 0;
      font-size: 13px;
    }
    .exec-summary-row span:first-child { color: var(--text-secondary); }
    .exec-summary-row span:last-child { color: var(--text-primary); font-family: var(--font-mono); }
    .exec-summary-row.total { border-top: 1px solid var(--border-subtle); padding-top: 10px; margin-top: 6px; }
    .exec-summary-row.total span:last-child { color: var(--accent-emerald); font-weight: 600; }
    
    .exec-fee-note {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 12px;
      background: rgba(251,191,36,0.1);
      border: 1px solid rgba(251,191,36,0.25);
      border-radius: var(--radius-sm);
      margin-bottom: 16px;
      font-size: 12px;
      color: var(--accent-amber);
    }
    
    .exec-btn {
      width: 100%;
      padding: 14px;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      border: none;
      border-radius: var(--radius-md);
      color: white;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all var(--transition-fast);
    }
    .exec-btn:hover { filter: brightness(1.1); transform: translateY(-1px); }
    .exec-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
    .exec-btn.loading { pointer-events: none; }
    .exec-btn.loading::after { content: '...'; animation: dots 1s infinite; }
    @keyframes dots { 0%, 33% { content: '.'; } 34%, 66% { content: '..'; } 67%, 100% { content: '...'; } }

    /* ═══════════════════════════════════════════════════════════════════════════
       METRICS DASHBOARD (Admin/Internal)
    ═══════════════════════════════════════════════════════════════════════════ */
    .metrics-bar {
      display: flex;
      align-items: center;
      gap: 20px;
      padding: 10px 20px;
      background: var(--bg-glass);
      backdrop-filter: blur(12px);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-md);
      margin-bottom: 16px;
      font-size: 11px;
      color: var(--text-muted);
      overflow-x: auto;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    .metric-item { 
      display: flex; 
      align-items: center; 
      gap: 6px; 
      white-space: nowrap;
      padding: 4px 10px;
      background: var(--bg-card);
      border-radius: var(--radius-sm);
      border: 1px solid var(--border-subtle);
    }
    .metric-item strong { 
      color: var(--accent-cyan); 
      font-family: var(--font-mono);
      font-weight: 700;
    }
    
    /* Pro badge teaser */
    .pro-badge {
      display: inline-flex;
      align-items: center;
      gap: 3px;
      padding: 2px 6px;
      background: linear-gradient(135deg, rgba(251,191,36,0.2), rgba(245,158,11,0.1));
      border: 1px solid rgba(251,191,36,0.3);
      border-radius: 3px;
      font-size: 9px;
      font-weight: 700;
      color: var(--accent-amber);
      text-transform: uppercase;
    }

    /* ═══════════════════════════════════════════════════════════════════════════
       iOS-SPECIFIC PERFORMANCE OPTIMIZATIONS
       Reduces CPU/GPU usage on mobile Safari
    ═══════════════════════════════════════════════════════════════════════════ */

    /* iOS device class - applied via JavaScript */
    .ios-device {
      /* Prevent rubber-banding scroll issues */
      overscroll-behavior: none;
      -webkit-overflow-scrolling: touch;
    }

    .ios-device .pool-card,
    .ios-device .opp-card {
      /* Remove complex shadows on iOS */
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      /* Disable transform animations */
      transform: none !important;
    }

    .ios-device .pool-card:hover,
    .ios-device .opp-card:hover {
      transform: none !important;
    }

    .ios-device .pool-card::before,
    .ios-device .opp-card::before {
      /* Simplify gradients */
      background: var(--card-accent, var(--accent-primary));
    }

    /* Reduce motion class - for low-power mode or preference */
    .reduce-motion,
    .reduce-motion * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }

    .reduce-motion .bg-overlay,
    .reduce-motion #bgCanvas {
      display: none !important;
    }

    .reduce-motion .logo-mark {
      animation: none;
      box-shadow: var(--glow-primary);
    }

    .reduce-motion .tab-badge {
      animation: none;
    }

    .reduce-motion .status-dot {
      animation: none;
    }

    /* Optimize scrolling performance */
    .pools-container,
    .opp-container {
      -webkit-transform: translateZ(0);
      transform: translateZ(0);
      will-change: scroll-position;
    }

    /* iOS Safari specific fixes */
    @supports (-webkit-touch-callout: none) {
      /* Prevent text selection issues */
      .pool-card, .opp-card {
        -webkit-user-select: none;
        user-select: none;
      }

      /* Fix sticky positioning */
      .header {
        position: -webkit-sticky;
        position: sticky;
        top: 0;
        z-index: 100;
      }

      /* Reduce backdrop blur on iOS (expensive) */
      .header,
      .nav-tabs,
      .modal-overlay {
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
      }
    }

    /* Mobile-specific optimizations */
    @media (max-width: 768px) {
      /* Simplify card rendering */
      .pool-card,
      .opp-card {
        will-change: auto;
        contain: layout;
      }

      /* Reduce shadow complexity */
      .pool-card,
      .opp-card,
      .header,
      .nav-tabs {
        box-shadow: 0 2px 10px rgba(0,0,0,0.3);
      }

      /* Disable hover effects (not needed on touch) */
      .pool-card:hover,
      .opp-card:hover {
        border-color: var(--border-subtle);
        box-shadow: 0 2px 10px rgba(0,0,0,0.3);
      }

      /* Reduce gradient complexity */
      .btn--primary,
      .btn--wallet,
      .logo-mark {
        background: var(--accent-primary);
      }
    }

    /* Prefers reduced motion (accessibility) */
    @media (prefers-reduced-motion: reduce) {
      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }

      .bg-overlay,
      #bgCanvas {
        display: none;
      }
    }
